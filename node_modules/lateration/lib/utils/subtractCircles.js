"use strict";

var _interopRequireDefault = require("babel-runtime/helpers/interop-require-default")["default"];

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = subtractCircles;

var _invariant = require("invariant");

var _invariant2 = _interopRequireDefault(_invariant);

var _circle = require("../circle");

var _circle2 = _interopRequireDefault(_circle);

var _line = require("../line");

var _line2 = _interopRequireDefault(_line);

var _subtractVectors = require("./subtractVectors");

var _subtractVectors2 = _interopRequireDefault(_subtractVectors);

function sqr(x) {
  return x * x;
}

function subtractCircles(a, b) {
  (0, _invariant2["default"])(a instanceof _circle2["default"], "Expected `a` to be a Circle instance.");
  (0, _invariant2["default"])(b instanceof _circle2["default"], "Expected `b` to be a Circle instance.");

  var vec = (0, _subtractVectors2["default"])(a.position, b.position);
  if (vec.length >= a.radius + b.radius) {
    return null;
  }

  var slope = (a.x - b.x) / (b.y - a.y);
  var intercept = (sqr(a.x) + sqr(a.y) + sqr(b.radius) - sqr(a.radius) - sqr(b.x) - sqr(b.y)) / (2 * (a.y - b.y));

  return new _line2["default"](slope, intercept);
}

module.exports = exports["default"];